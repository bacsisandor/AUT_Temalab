<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly Demo: Fixed Blockly</title>
  <script src="../../blockly_compressed.js"></script>
  <script src="../../blocks_compressed.js"></script>
  <script src="../../msg/js/en.js"></script>
  <script src="logo.js"></script>
  <script src="workpace.js"></script>
   <script src="../../generators/logo.js"></script>
  <script src="../../generators/logo/logo_stubs.js"></script>
  
  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
  </style>
</head>
<body>
  <div id="blocklyDiv" style="height: 520px; width: 640px;"></div>

<xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
  <category name="Pen" colour="#a55b93">
    <block type="pen_up"></block>
    <block type="pen_down"></block>
  </category>
  <category name="Movement" colour="#a5805b">
    <block type="move_forward"></block>
    <block type="move_backward"></block>
    <block type="turn_left"></block>
    <block type="turn_right"></block>
  </category>
  <category name="Loops" colour="#5b80a5">
    <block type="repeat"></block>
  </category>
  <category name="Numeric" colour="#5b6da5">
    <block type="math_number">
      <field name="NUM">0</field>
    </block>
    <block type="operation">
      <field name="op">add</field>
    </block>
  </category>
  <category name="Clear" colour="#a55b6d">
    <block type="clean"></block>
    <block type="clear_screen"></block>
  </category>
  <category name="Position" colour="#5ba5a5">
    <block type="set_x"></block>
    <block type="set_y"></block>
    <block type="set_xy"></block>
    <block type="set_heading"></block>
    <block type="home"></block>
  </category>
</xml>

  <script>
   var generatedCode;
    var workspace = Blockly.inject('blocklyDiv',
        {media: '../../media/',
         toolbox: document.getElementById('toolbox')});
		 
    function showCode() {
      // Generate Logo code
      Blockly.Logo.INFINITE_LOOP_TRAP = null;
      var code = Blockly.Logo.workspaceToCode(workspace);
	  generatedCode = code;
    }
	
	function clearWorkspace(){
	    if (Blockly.mainWorkspace !== null) {
            Blockly.mainWorkspace.clear();
        }
	}
  </script>

</body>
</html>